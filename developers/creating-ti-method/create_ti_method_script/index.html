<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.54.0" />
    <meta name="description" content="Dynverse">
<meta name="author" content="Wouter Saelens and Robrecht Cannoodt">

    <link rel="icon" href="../../../images/favicon.png" type="image/png">

    <title>Wrapper script :: dynverse</title>

    
    <link href="../../../css/nucleus.css?1554615109" rel="stylesheet">
    <link href="../../../css/fontawesome-all.min.css?1554615109" rel="stylesheet">
    <link href="../../../css/hybrid.css?1554615109" rel="stylesheet">
    <link href="../../../css/featherlight.min.css?1554615109" rel="stylesheet">
    <link href="../../../css/perfect-scrollbar.min.css?1554615109" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1554615109" rel="stylesheet">
    <link href="../../../css/theme.css?1554615109" rel="stylesheet">
    <link href="../../../css/hugo-theme.css?1554615109" rel="stylesheet">
    
      <link href="../../../css/theme-mine.css?1554615109" rel="stylesheet">
    

    <script src="../../../js/jquery-2.x.min.js?1554615109"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
<link rel="stylesheet" href="../../../css/simple-grid.min.css">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-578149-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-578149-4');
</script>

  </head>
  <body class="" data-url="/developers/creating-ti-method/create_ti_method_script/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="../../../">
  <img src="../../../images/logo.png" style="max-width:100px;" alt="dynverse logo" class="zoom">
</a>



    </div>
    
        

<div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>
<script type="text/javascript">
    
        var baseurl = "\/";
    

    window.searchLoaded = false
</script>


<script text="text/javascript">
$(".searchbox").click(function(){
  if (!searchLoaded) {
    $.getScript("\/js\/lunr.min.js?1554615109");
    $.getScript("\/js\/auto-complete.js?1554615109");
    $.getScript("\/js\/search.js?1554615109");
    window.searchLoaded = true
  }

});
</script>



    
  </div>

    <div class="highlightable">
    <ul class="topics">
        
          
          


 
  
    
    <li data-nav-id="/users/" title="Method users" class="dd-item
        
        
        menu-section
        "
        
      >
      <a href="../../../users/">
          Method users
          
            <img src="../../../images/dyno/dyno1.png" alt="logo" class="menu-logo zoom ">
          
          
      </a>
      
      
        <ul style="display:block;">
          
          
            
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/users/1-installation/" title="Installation" class="dd-item ">
        <a href="../../../users/1-installation/">
        Installation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/2-quick_start/" title="Quick start" class="dd-item ">
        <a href="../../../users/2-quick_start/">
        Quick start
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/users/3-user-guide/" title="User guide" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../users/3-user-guide/">
          User guide
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/1-preparing/" title="Preparing the data" class="dd-item ">
        <a href="../../../users/3-user-guide/1-preparing/">
        Preparing the data
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/2-guidelines/" title="Selecting the best methods for a dataset" class="dd-item ">
        <a href="../../../users/3-user-guide/2-guidelines/">
        Selecting the best methods for a dataset
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/3-running/" title="Inferring trajectories" class="dd-item ">
        <a href="../../../users/3-user-guide/3-running/">
        Inferring trajectories
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/4-visualisation/" title="Visualising the trajectory" class="dd-item ">
        <a href="../../../users/3-user-guide/4-visualisation/">
        Visualising the trajectory
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/5-adapting/" title="Adapting the trajectory" class="dd-item ">
        <a href="../../../users/3-user-guide/5-adapting/">
        Adapting the trajectory
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/users/3-user-guide/6-tde/" title="Trajectory differentially expression" class="dd-item ">
        <a href="../../../users/3-user-guide/6-tde/">
        Trajectory differentially expression
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/developers/" title="Method developers" class="dd-item
        
        parent
        menu-section
        "
         id="scroll" 
      >
      <a href="../../../developers/">
          Method developers
          
            <img src="../../../images/dynbenchmark/logo.png" alt="logo" class="menu-logo zoom zoomed">
          
          
      </a>
      
      
        <ul style="display:block;">
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/developers/creating-ti-method/" title="Creating a TI method" class="dd-item
        parent
        
        menu-subsection
        ">
      <a href="../../../developers/creating-ti-method/">
          Creating a TI method
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/developers/creating-ti-method/create_ti_method_wrappers/" title="Creating a trajectory" class="dd-item ">
        <a href="../../../developers/creating-ti-method/create_ti_method_wrappers/">
        Creating a trajectory
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developers/creating-ti-method/create_ti_method_r/" title="Wrapping in R" class="dd-item ">
        <a href="../../../developers/creating-ti-method/create_ti_method_r/">
        Wrapping in R
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developers/creating-ti-method/create_ti_method_script/" title="Wrapper script" class="dd-item active">
        <a href="../../../developers/creating-ti-method/create_ti_method_script/">
        Wrapper script
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/developers/creating-ti-method/create_ti_method_container/" title="Containerised wrapping" class="dd-item ">
        <a href="../../../developers/creating-ti-method/create_ti_method_container/">
        Containerised wrapping
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/developers/evaluating-ti-method/" title="Evaluating a TI method" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../developers/evaluating-ti-method/">
          Evaluating a TI method
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/reference/" title="Reference" class="dd-item
        
        
        menu-section
        "
        
      >
      <a href="../../../reference/">
          Reference
          
          
      </a>
      
      
        <ul style="display:block;">
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/" title="" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../reference/dynwrap/">
          dynwrap
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/create_trajectory/" title="dynwrap :: Creating a trajectory" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/create_trajectory/">
          Creating a trajectory

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/adapt_trajectory/" title="dynwrap :: Adapting a trajectory model" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/adapt_trajectory/">
          Adapting a trajectory model

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/derive_trajectory/" title="dynwrap :: Calculations from a trajectory" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/derive_trajectory/">
          Calculations from a trajectory

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/create_ti_method/" title="dynwrap :: Creating a TI method" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/create_ti_method/">
          Creating a TI method

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/infer_trajectory/" title="dynwrap :: Running a TI method" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/infer_trajectory/">
          Running a TI method

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynwrap/other/" title="dynwrap :: Other" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynwrap/other/">
          Other

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynplot/" title="" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../reference/dynplot/">
          dynplot
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/reference/dynplot/plot_trajectory/" title="dynplot :: Plot a trajectory" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynplot/plot_trajectory/">
          Plot a trajectory

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynplot/compare_trajectory/" title="dynplot :: Visually comparing trajectories" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynplot/compare_trajectory/">
          Visually comparing trajectories

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynplot/plot_helpers/" title="dynplot :: Plotting helper functions" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynplot/plot_helpers/">
          Plotting helper functions

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynplot/other/" title="dynplot :: Other" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynplot/other/">
          Other

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynmethods/" title="" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../reference/dynmethods/">
          dynmethods
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/reference/dynmethods/method/" title="dynmethods :: Trajectory inference methods" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynmethods/method/">
          Trajectory inference methods

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dynmethods/other/" title="dynmethods :: Other" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dynmethods/other/">
          Other

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dyneval/" title="" class="dd-item
        
        
        menu-subsection
        ">
      <a href="../../../reference/dyneval/">
          dyneval
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/reference/dyneval/evaluation/" title="dyneval :: Evaluating methods" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dyneval/evaluation/">
          Evaluating methods

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dyneval/metric/" title="dyneval :: Metrics for comparing trajectories" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dyneval/metric/">
          Metrics for comparing trajectories

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/reference/dyneval/other/" title="dyneval :: Other" class="dd-item
        
        
        
        menu-item
        ">
      <a href="../../../reference/dyneval/other/">
          Other

          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/about/" title="About" class="dd-item
        
        
        menu-section
        "
        
      >
      <a href="../../../about/">
          About
          
          
      </a>
      
      
        <ul style="display:block;">
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/about/contributing/" title="" class="dd-item ">
        <a href="../../../about/contributing/">
        
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/about/contributing/" title="Contributing" class="dd-item ">
        <a href="../../../about/contributing/">
        Contributing
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      

    </section>
  </div>

  <script type="text/javascript">
  
  window.onload = function() {
    var el = document.getElementById('scroll');
    if (el) {
      el.scrollIntoView(true);
    }
  }
  </script>
</nav>





















        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='../../../'></a> > <a href='../../../developers/'>Method developers</a> > <a href='../../../developers/creating-ti-method/'>Creating a TI method</a> > Wrapper script
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Wrapper script</h1>
          

        





<pre class="r"><code>library(dynwrap)</code></pre>
<p>An alternative to wrapping a script inside R, is to wrap it using an external script. Because this does not provide any dependency management, this is not really useful for method end-users, but rather as a way to easily develop a TI method and to ultimately step up towards <a href="../create_ti_method_container">containerised wrapping</a>.</p>
<p>Similarly as a wrapper written in R, you’ll need to provide both a definition (= a <em>definition.yml</em>) and a way to run the methods (= a script).</p>
<div id="definition.yml" class="section level2">
<h2><em>definition.yml</em></h2>
<p>The definition has the same hierarchical structure as used by the <code>definition()</code> function. A minimal example</p>
<div class="filename">
definition.yml
</div>
<pre class="yaml"><code>method:
  id: comp_1

parameters:
  - id: component
    default: 1
    type: integer
    distribution:
      type: uniform
      lower: 1
      upper: 10
    description: The nth component to use

wrapper:
  input_required: expression
  input_optional: start_id
</code></pre>
<p>You can use our template <em>definition.yml</em> to see all the different possibilities of what can be included in the definition: <a href="https://github.com/dynverse/dynmethods/tree/master/template_container" class="uri">https://github.com/dynverse/dynmethods/tree/master/template_container</a> . It may also be useful to check out some of the wrappers in dynmethods, e.g.: <a href="https://github.com/dynverse/ti_paga/blob/master/definition.yml" class="uri">https://github.com/dynverse/ti_paga/blob/master/definition.yml</a></p>
</div>
<div id="running-script" class="section level2">
<h2>Running script</h2>
<p>A running script reads in the data, creates a trajectory, and again writes the trajectory to a file. To do the loading and writing tasks, we provide helper libraries for R and python: <a href="https://github.com/dynverse/dyncli">dyncli</a> and <a href="https://github.com/dynverse/dynclipy">dynclipy</a>.</p>
<p>The wrapper script will typically have the following structure:</p>
<ul>
<li>A shebang, such as <code>#!/usr/bin/env Rscript</code> or <code>#!/usr/bin/env python</code></li>
<li>A call to dyncli(py) to load in the data, such as <code>dataset &lt;- dyncli::main()</code> or <code>dataset = dynclipy.main()</code></li>
<li>All you need to infer the trajectory</li>
<li>Constructing the trajectory model using <a href="../create_ti_method_wrappers">any of the wrapping methods</a></li>
<li>A call to dyncli(py) to write the data, such as <code>dyncli::write_output(trajectory)</code> or <code>trajectory.write_output()</code></li>
</ul>
<p>A minimal example script for R:</p>
<div class="filename">
run.R
</div>
<pre class="r"><code>#!/usr/bin/env Rscript

dataset &lt;- dyncli::main()

library(dynwrap)
library(dplyr)

# infer trajectory
pca &lt;- prcomp(dataset$expression)

pseudotime &lt;- pca$x[, dataset$parameters$component]

# flip pseudotimes using start_id
if (!is.null(dataset$priors$start_id)) {
  if(mean(pseudotime[start_id]) &gt; 0.5) {
    pseudotime &lt;- 1-pseudotime
  }
}

# build trajectory
trajectory &lt;- wrap_data(cell_ids = rownames(dataset$expression)) %&gt;%
  add_linear_trajectory(pseudotime = pseudotime)
  
# save output
dyncli::write_output(trajectory, dataset$output)
</code></pre>
<p>Make sure this script is executable!</p>
<pre class="bash"><code>chmod +x run.R</code></pre>
<p>and for Python:</p>
<div class="filename">
run.py
</div>
<pre class="python"><code>#!/usr/bin/env python

import dynclipy
dataset = dynclipy.main()

import pandas as pd
import sklearn.decomposition

# infer trajectory
pca = sklearn.decomposition.PCA()
dimred = pca.fit_transform(dataset[&#39;expression&#39;])
pseudotime = pd.Series(
  dimred[:, dataset[&#39;parameters&#39;][&#39;component&#39;]-1], 
  index = dataset[&#39;expression&#39;].index
)

# build trajectory
trajectory = dynclipy.wrap_data(cell_ids = dataset[&#39;expression&#39;].index)
trajectory.add_linear_trajectory(pseudotime = pseudotime)

# save output
trajectory.write_output(dataset[&#39;output&#39;])
</code></pre>
</div>
<div id="testing-it-out" class="section level2">
<h2>Testing it out</h2>
<pre class="r"><code>method &lt;- create_ti_method_definition(
  &quot;definition.yml&quot;,
  &quot;run.R&quot;
)
dataset &lt;- dynwrap::example_dataset
trajectory &lt;- infer_trajectory(dataset, method(), verbose = TRUE)</code></pre>
<pre><code>## Executing &#39;comp_1&#39; on &#39;example&#39;
## With parameters: list(component = 1L),
## inputs: expression, and
## priors :</code></pre>
<pre><code>## Loading required namespace: hdf5r</code></pre>
<pre><code>## Input saved to /tmp/Rtmp6MbIZN/file7cab7f5eb963/ti
## Running ./run.R --dataset input.h5 --output output.h5
## 
## Attaching package: ‘dplyr’
## 
## The following objects are masked from ‘package:stats’:
## 
##     filter, lag
## 
## The following objects are masked from ‘package:base’:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code># install dynplot to plot the output
if (&quot;dynplot&quot; %in% rownames(installed.packages())) {
  dynplot::plot_dimred(trajectory, color_cells = &quot;pseudotime&quot; , expression_source = as.matrix(dataset$expression))
}</code></pre>
<p><img src="../../../developers/creating-ti-method/create_ti_method_script_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="interactive-development" class="section level2">
<h2>Interactive development</h2>
<p>With the debug parameter, it is possible to enter the script interactively. This makes it easier to develop TI method as you can just load in the input data, and code!</p>
<pre class="r"><code>trajectory &lt;- infer_trajectory(dataset, method(), debug = TRUE)</code></pre>
<pre><code>## Error: Error during trajectory inference 
## ./run.R --dataset input.h5 --output output.h5</code></pre>
</div>
<div id="making-your-method-available-for-other-users" class="section level2">
<h2>Making your method available for other users</h2>
<p>Wrapping a method inside a script does not have any dependency management, and is therefore only meant for development purposes. To deploy your method to other users, check out the <a href="../create_ti_method_container">containerisation tutorial</a>!</p>
</div>
<div id="wrapping-a-method-without-dynclipy" class="section level2">
<h2>Wrapping a method without dyncli(py)</h2>
<p>While using dyncli to load and save the data is the most straightforward when using R and python, it’s also possible to skip these packages and do all the work yourself. Briefly you have to:</p>
<ul>
<li>Parse the arguments provided by dynwrap yourself, e.g. <code>--dataset input.h5</code>.</li>
<li>Read in the hdf5 files generated by dynwrap</li>
<li>Write the output file in the correct hdf5 format</li>
</ul>
<p>If after this you’re still convinced you want to do this, please contact us. We’ll be able to provide some further documentation!</p>
</div>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../../developers/creating-ti-method/create_ti_method_r/" title="Wrapping in R"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../../developers/creating-ti-method/create_ti_method_container/" title="Containerised wrapping" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../../js/clipboard.min.js?1554615109"></script>
    <script src="../../../js/perfect-scrollbar.min.js?1554615109"></script>
    <script src="../../../js/perfect-scrollbar.jquery.min.js?1554615109"></script>
    <script src="../../../js/jquery.sticky.js?1554615109"></script>
    <script src="../../../js/featherlight.min.js?1554615109"></script>
    <script src="../../../js/html5shiv-printshiv.min.js?1554615109"></script>
    <script src="../../../js/highlight.pack.js?1554615109"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../../js/modernizr.custom.71422.js?1554615109"></script>
    <script src="../../../js/learn.js?1554615109"></script>
    <script src="../../../js/hugo-learn.js?1554615109"></script>

    <link href="../../../mermaid/mermaid.css?1554615109" type="text/css" rel="stylesheet" />
    <script src="../../../mermaid/mermaid.js?1554615109"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

